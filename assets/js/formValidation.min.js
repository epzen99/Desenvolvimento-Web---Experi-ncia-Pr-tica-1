!function(){"use strict";function e(e){if(!e)return;console.log("[formValidation] inicializando para form:",e.id||"(sem id)");let t=(e,t)=>e?(e=String(e).replace(/\D/g,""),"cpf"===t?e=(e=(e=e.replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2"):"telefone"===t?e=(e=e.replace(/^(\d{2})(\d)/,"($1) $2")).replace(/(\d{5})(\d{4})$/,"$1-$2"):"cep"===t&&(e=e.replace(/^(\d{5})(\d{3})$/,"$1-$2")),e):"",r=t=>e.querySelector(t),o=r("#cpf"),a=r("#telefone"),i=r("#cep"),n=(e,r)=>{e&&(e.addEventListener("input",()=>{let o=e.selectionStart||e.value.length;e.value=t(e.value,r);try{e.setSelectionRange(o,o)}catch(a){}}),e.addEventListener("keydown",e=>{["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(e.key)||/\d/.test(e.key)||e.preventDefault()}),e.addEventListener("paste",o=>{let a=(o.clipboardData||window.clipboardData).getData("text");if(/\D/.test(a)){o.preventDefault();let i=a.replace(/\D/g,""),n=t(e.value+i,r);e.value=n}}))};n(o,"cpf"),n(a,"telefone"),n(i,"cep"),e.addEventListener("submit",t=>{t.preventDefault();let r=t=>(e.querySelector(t)?.value||"").trim(),o=r("#nome"),a=r("#email"),i=r("#cpf").replace(/\D/g,""),n=r("#telefone").replace(/\D/g,""),l=r("#cep").replace(/\D/g,""),d=r("#cidade"),c=r("#estado"),s=r("#interesse");if(!o){alert("Por favor, preencha o nome completo.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){alert("E-mail inv\xe1lido.");return}if(!/^\d{11}$/.test(i)){alert("CPF inv\xe1lido. Digite 11 d\xedgitos num\xe9ricos.");return}if(!/^\d{10,11}$/.test(n)){alert("Telefone inv\xe1lido. Informe 10 ou 11 d\xedgitos.");return}if(!/^\d{8}$/.test(l)){alert("CEP inv\xe1lido. Digite 8 d\xedgitos.");return}if(!d){alert("Por favor, informe a cidade.");return}if(!c){alert("Por favor, selecione o estado.");return}if(!s){alert("Por favor, selecione uma \xe1rea de interesse.");return}let f={nome:o,email:a,cpf:i,telefone:n,cep:l,cidade:d,estado:c,interesse:s,criadoEm:new Date().toISOString()},u=JSON.parse(localStorage.getItem("cadastros")||"[]");u.push(f),localStorage.setItem("cadastros",JSON.stringify(u)),alert("Cadastro realizado com sucesso!"),e.reset()})}let t=document.querySelector("main")||document.body,r=new MutationObserver(t=>{for(let r of t)for(let o of r.addedNodes){if(!(o instanceof HTMLElement))continue;if(o.matches&&o.matches("form")){e(o);return}let a=o.querySelector&&o.querySelector("form");if(a){e(a);return}}});r.observe(t,{childList:!0,subtree:!0});let o=document.querySelector("main form")||document.querySelector("form");o&&e(o),console.log("[formValidation] observer ativo, aguardando inser\xe7\xe3o do formul\xe1rio...")}();