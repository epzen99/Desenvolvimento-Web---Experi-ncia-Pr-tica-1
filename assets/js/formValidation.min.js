function validarCPF(e){if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=0;for(let a=0;a<9;a++)t+=parseInt(e.charAt(a))*(10-a);let r=10*t%11;if((10===r||11===r)&&(r=0),r!==parseInt(e.charAt(9)))return!1;t=0;for(let l=0;l<10;l++)t+=parseInt(e.charAt(l))*(11-l);return(10==(r=10*t%11)||11===r)&&(r=0),r===parseInt(e.charAt(10))}function validarIdade(e){let t=new Date(e),a=new Date,r=a.getFullYear()-t.getFullYear(),l=a.getMonth()-t.getMonth();return l<0||0===l&&a.getDate()<t.getDate()?r-1>=18:r>=18}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("form-contato");e&&(e.addEventListener("submit",t=>{t.preventDefault();let a={nome:e.nome.value.trim(),cpf:e.cpf.value.trim(),nascimento:e.nascimento.value,email:e.email.value.trim(),telefone:e.telefone.value.trim(),cep:e.cep.value.trim(),cidade:e.cidade.value.trim(),estado:e.estado.value,interesse:e.interesse.value,mensagem:e.mensagem.value.trim()};if(!validarCPF(a.cpf)){alert("CPF inv\xe1lido!");return}if(!validarIdade(a.nascimento)){alert("\xc9 necess\xe1rio ter pelo menos 18 anos.");return}if(!a.email.includes("@")){alert("E-mail inv\xe1lido!");return}let r=JSON.parse(localStorage.getItem("cadastros"))||[];r.push(a),localStorage.setItem("cadastros",JSON.stringify(r)),alert("Cadastro realizado com sucesso!"),e.reset()}),e.cpf.addEventListener("input",e=>{e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")}),e.telefone.addEventListener("input",e=>{e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d{4})$/,"$1-$2")}),e.cep.addEventListener("input",e=>{e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{5})(\d{3})$/,"$1-$2")}))});